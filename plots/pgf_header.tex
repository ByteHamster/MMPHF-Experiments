\usepackage{pgfplots}

\usepgfplotslibrary{groupplots}
\usetikzlibrary{pgfplots.statistics}

\pgfdeclareplotmark{flippedTriangle}{%
  \pgfpathmoveto{\pgfqpointpolar{-90}{1.2\pgfplotmarksize}}%
  \pgfpathlineto{\pgfqpointpolar{30}{1.2\pgfplotmarksize}}%
  \pgfpathlineto{\pgfqpointpolar{150}{1.2\pgfplotmarksize}}%
  \pgfpathclose%
  \pgfusepath{stroke}%
}
\pgfdeclareplotmark{rightTriangle}{%
  \pgfpathmoveto{\pgfqpointpolar{0}{1.2\pgfplotmarksize}}%
  \pgfpathlineto{\pgfqpointpolar{110}{1.2\pgfplotmarksize}}%
  \pgfpathlineto{\pgfqpointpolar{240}{1.2\pgfplotmarksize}}%
  \pgfpathclose%
  \pgfusepath{stroke}%
}
\pgfdeclareplotmark{leftTriangle}{%
  \pgfpathmoveto{\pgfqpointpolar{-180}{1.2\pgfplotmarksize}}%
  \pgfpathlineto{\pgfqpointpolar{-60}{1.2\pgfplotmarksize}}%
  \pgfpathlineto{\pgfqpointpolar{60}{1.2\pgfplotmarksize}}%
  \pgfpathclose%
  \pgfusepath{stroke}%
}

\definecolor{colorDirectRankStoring}{HTML}{FF7F00}
\definecolor{veryLightGrey}{HTML}{F2F2F2}
\definecolor{colorHollowTrie}{HTML}{444444}
\definecolor{colorHollowTrieDist}{HTML}{000000}
\definecolor{colorCentroidHollowTrie}{HTML}{377EB8}
\definecolor{colorLcp}{HTML}{A65628}
\definecolor{colorPaCoTrieJava}{HTML}{4DAF4A}
\definecolor{colorPathDecomposedTrie}{HTML}{984EA3}
\definecolor{colorVllcp}{HTML}{F781BF}
\definecolor{colorTwoStepsLcp}{HTML}{E41A1C}
\definecolor{colorZFastTrieDistributor}{HTML}{E41A1C}

\pgfplotsset{
  compat=newest,
  % Mark repeat, but the last mark is always drawn
  mark repeat*/.style={
    scatter,
    scatter src=x,
    scatter/@pre marker code/.code={
      \pgfmathtruncatemacro\usemark{
        or(mod(\coordindex,#1)==0, (\coordindex==(\numcoords-1))
      }
      \ifnum\usemark=0
        \pgfplotsset{mark=none}
      \fi
    },
    scatter/@post marker code/.code={}
  },
  major grid style={thin,dotted},
  minor grid style={thin,dotted},
  ymajorgrids,
  yminorgrids,
  every axis/.append style={
    scale only axis,
    line width=0.7pt,
    tick style={
      line cap=round,
      thin,
      major tick length=4pt,
      minor tick length=2pt,
    },
    mark options={solid},
  },
  legend cell align=left,
  legend style={
    line width=0.7pt,
    /tikz/every even column/.append style={column sep=3mm,black},
    /tikz/every odd column/.append style={black},
    mark options={solid},
  },
  % move title closer
  legend style={font=\small},
  title style={yshift=-2pt},
  % less space on left and right
  enlarge x limits=0.04,
  every tick label/.append style={font=\footnotesize},
  every axis label/.append style={font=\small},
  every axis y label/.append style={yshift=-1ex},
  /pgf/number format/1000 sep={},
  axis lines*=left,
  xlabel near ticks,
  ylabel near ticks,
  axis lines*=left,
  label style={font=\footnotesize},
  tick label style={font=\footnotesize},
  % Specific plot parameters
  plotCompetitorConstruction/.style={
    xlabel={Space usage (B/Key)},
    ylabel={Throughput (MKeys/s)},
    extra x ticks={13},
    extra x tick labels={$\geq$},
    width=32mm,
    height=35mm,
    only marks,
    legend columns=3,
    ymax=4.2,
  },
  plotCompetitorQueries/.style={
    xlabel={Space usage (B/Key)},
    ylabel={Throughput (MKeys/s)},
    extra x ticks={13},
    extra x tick labels={$\geq$},
    width=32mm,
    height=35mm,
    only marks,
    ymax=2.8,
  },
}


